{"remainingRequest":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/easy-shop-webapp/src/views/Order.vue?vue&type=style&index=0&id=3c1ef684&scoped=true&lang=scss&","dependencies":[{"path":"/home/hunglq/easy-shop-webapp/src/views/Order.vue","mtime":1617337129860},{"path":"/home/hunglq/easy-shop-webapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi9hc3NldHMvc3R5bGVzL3ZhcmlhYmxlcyI7CgouZGFzaGJvYXJkIHsKICBsYWJlbCB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgfQp9Ci8vZWwgY2FyZAoudGV4dCB7CiAgZm9udC1zaXplOiAxNHB4Owp9CgouaXRlbSB7CiAgbWFyZ2luLWJvdHRvbTogMThweDsKfQoKLmNsZWFyZml4OmJlZm9yZSwKLmNsZWFyZml4OmFmdGVyIHsKICBkaXNwbGF5OiB0YWJsZTsKICBjb250ZW50OiAiIjsKfQouY2xlYXJmaXg6YWZ0ZXIgewogIGNsZWFyOiBib3RoOwp9Ci5ib3gtY2FyZCB7CiAgbWFyZ2luLXRvcDogMjBweDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgLnRpdGxlIHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgZm9udC1zaXplOiAyNXB4OwogICAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgfQogIC5idG4tYWRkLXVzZXIgewogICAgaGVpZ2h0OiA0MHB4OwogICAgd2lkdGg6IDE1MHB4OwogICAgYm9yZGVyLXJhZGl1czogMjFweCAhaW1wb3J0YW50OwogICAgY29sb3I6IHdoaXRlOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3JCbHVlOwogIH0KICAuYm94LXNlYXJjaCB7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICBsYWJlbCB7CiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDsKICAgIH0KICAgIC5zZWFyY2gtbmFtZSwKICAgIC5zZWFyY2gtY29kZSB7CiAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICB9CiAgICAuc2VhcmNoLXNlbGVjdCB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgfQogICAgLmJ0bi1zZWFyY2ggewogICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBib3JkZXItcmFkaXVzOiA1cHggIWltcG9ydGFudDsKICAgICAgY29sb3I6IHdoaXRlOwogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yTWVsbG93R3JlZW47CiAgICAgIG1hcmdpbi10b3A6IDI3cHg7CiAgICB9CiAgfQogIC5ib3gtdGFiZWwgewogICAgbWFyZ2luLXRvcDogMjBweDsKICAgIC50YWJlbC13b3JrIHsKICAgICAgY29sb3I6IHJlZDsKICAgIH0KICAgIC5wYWdpbmF0aW9uIHsKICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgIGZsb2F0OiByaWdodDsKICAgIH0KICAgIC5idG4tZWRpdCB7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICB9CiAgLmxhYmVsLWFkZCB7CiAgICBtYXJnaW4tdG9wOiAxMHB4OwogIH0KICAuaW5wdXQtYWRkIHsKICAgIG1hcmdpbi10b3A6IDVweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7CiAgfQogIC5zZWxlY3QtYWRkIHsKICAgIG1hcmdpbi10b3A6IDVweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7CiAgfQogIC5lcnJvciB7CiAgICBjb2xvcjogJGNvbG9yUmVkOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICB9CiAgLnN0YXIgewogICAgY29sb3I6IHJlZDsKICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgfQp9Ci5idG4tZWRpdC13b3JrIHsKICBtYXJnaW4tbGVmdDogN3B4ICFpbXBvcnRhbnQ7Cn0KLmJveC1lZGl0LWRhaWxvZyB7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBjb2xvcjogIzIxMjUyOTsKICB0ZXh0LWFsaWduOiBpbmhlcml0OwogIG1hcmdpbjogNXB4IDA7CiAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgaGVpZ2h0OiAzMHB4OwogIGxpbmUtaGVpZ2h0OiAzMHB4OwogIGkgewogICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgfQogIGN1cnNvcjogcG9pbnRlcjsKfQouYm94LWVkaXQtZGFpbG9nOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwp9Ci5idG4tc2VhcmNoIHsKICBtYXJnaW4tbGVmdDogLTYwcHg7Cn0KLmRhdGVGcm9tIHsKICBtYXJnaW4tcmlnaHQ6IDE4cHg7Cn0KLmRhdGVUbyB7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Ci5mb3JtRGF0ZSB7CiAgZGlzcGxheTogaW5saW5lOwogIGZsb2F0OiBsZWZ0Owp9Cg=="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8SA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <el-card>\n      <div class=\"box-search\">\n        <el-row :gutter=\"80\">\n          <el-col :span=\"7\" class=\"box-search-mini\">\n            <el-input\n              placeholder=\"Nhập mã hóa đơn hoặc tên khách hàng để tìm kiếm\"\n              class=\"search-name\"\n              type=\"text\"\n              prefix-icon=\"el-icon-search\"\n              v-model=\"search\"\n              @keydown.enter.native=\"handleSearch\"\n            ></el-input>\n          </el-col>\n          <el-col :span=\"6\" class=\"btn-search\">\n            <el-button @click=\"handleSearch\">Tìm kiếm</el-button>\n          </el-col>\n          <div class=\"formDate\" style=\"\">\n            <div style=\"margin-bottom: 10px\">\n              <span class=\"dateFrom\">Từ ngày</span>\n              <el-date-picker\n                v-model=\"value1\"\n                type=\"date\"\n                placeholder=\"Chọn ngày\"\n              >\n              </el-date-picker>\n            </div>\n            <div>\n              <span class=\"dateTo\">Đến ngày</span>\n              <el-date-picker\n                v-model=\"value2\"\n                type=\"date\"\n                placeholder=\"Chọn ngày\"\n                :picker-options=\"pickerOptions\"\n              >\n              </el-date-picker>\n            </div>\n          </div>\n          <el-col style=\"float: right\" :span=\"6\" class=\"box-search-mini\">\n            <el-select\n              placeholder=\"Chọn trạng thái\"\n              class=\"search-code search-select\"\n              v-model=\"statusFilter\"\n            >\n              <el-option value=\"1\">Đang chờ xử lý</el-option>\n              <el-option value=\"2\">Đã xử lý</el-option>\n              <el-option value=\"3\">Đã giao</el-option>\n              <el-option value=\"4\">Đã giao</el-option>\n              <el-option value=\"5\">Đã hủy</el-option>\n              <el-option value=\"6\">Đã hoàn trả</el-option>\n            </el-select>\n          </el-col>\n        </el-row>\n      </div>\n    </el-card>\n    <el-card class=\"box-card\">\n      <div class=\"box-tabel\">\n        <el-col style=\"float: left; margin-bottom:15px\" :span=\"6\" class=\"box-search-mini\">\n          <el-select\n            placeholder=\"Chọn trạng thái\"\n            class=\"search-code search-select\"\n            v-model=\"statusChange\"\n          >\n            <el-option value=\"1\">Đang chờ xử lý</el-option>\n            <el-option value=\"2\">Đã xử lý</el-option>\n            <el-option value=\"3\">Đã giao</el-option>\n            <el-option value=\"4\">Đã giao</el-option>\n            <el-option value=\"5\">Đã hủy</el-option>\n            <el-option value=\"6\">Đã hoàn trả</el-option>\n          </el-select>\n        </el-col>\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"orders\"\n          style=\"width: 100%\"\n          @selection-change=\"handleSelectionChange\"\n        >\n          <el-table-column type=\"selection\" width=\"55\">\n          </el-table-column>\n          <el-table-column prop=\"code\" label=\"Mã hoá đơn\">\n          </el-table-column>\n          <el-table-column prop=\"customer_id\" label=\"Tên khách hàng\">\n          </el-table-column>\n          <el-table-column prop=\"total_value\" label=\"Tổng tiền\">\n            <template slot-scope=\"scope\">\n              {{formatMoney(scope.row.total_value)}} VNĐ\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"status\" label=\"Trạng thái\">\n            <template slot-scope=\"scope\">\n              <div v-if=\"scope.row.status === 1\">Đang chờ xử lý</div>\n              <div v-if=\"scope.row.status === 2\">Đã xử lý</div>\n              <div v-if=\"scope.row.status === 3\">Đang giao</div>\n              <div v-if=\"scope.row.status === 4\">Đã giao</div>\n              <div v-if=\"scope.row.status === 5\">Hủy</div>\n              <div v-if=\"scope.row.status === 6\">Hoàn trả</div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"created_at\" label=\"Ngày tạo đơn\">\n            <template slot-scope=\"scope\">\n              {{formatDate(scope.row.created_at)}}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"status\"\n            align=\"center\"\n            label=\"Hành động\"\n            class=\"tabel-work\"\n          >\n            <template slot-scope=\"scope\">\n              <el-popover placement=\"bottom\" trigger=\"click\" width=\"100\">\n                <div class=\"box-edit-dailog\" @click=\"orderDetail(scope.row._id)\">\n                  <i class=\"fa fa-eye\"></i> Xem chi tiết\n                </div>\n                <div class=\"box-edit-dailog\" @click=\"changeStatus(scope.row._id, 2)\" v-if=\"scope.row.status === 1\">\n                  <i class=\"fa fa-check\"></i> Đã xử lý\n                </div>\n                <div class=\"box-edit-dailog\" @click=\"changeStatus(scope.row._id, 3)\" v-if=\"scope.row.status === 2\">\n                  <i class=\"fa fa-check\"></i> Đang giao\n                </div>\n                <div class=\"box-edit-dailog\" @click=\"changeStatus(scope.row._id, 4)\" v-if=\"scope.row.status === 3\">\n                  <i class=\"fa fa-check\"></i> Đã giao\n                </div>\n                <div class=\"box-edit-dailog\" @click=\"changeStatus(scope.row._id, 6)\" v-if=\"scope.row.status === 3\">\n                  <i class=\"fa fa-check\"></i> Hoàn trả\n                </div>\n                <div class=\"box-edit-dailog\" @click=\"changeStatus(scope.row._id, 5)\"\n                     v-if=\"scope.row.status === 1 || scope.row.status === 2\">\n                  <i class=\"fa fa-trash\"></i> Hủy đơn hàng\n                </div>\n                <div class=\"btn-edit\" slot=\"reference\">\n                  <i class=\"fa fa-ellipsis-v\"></i>\n                </div>\n              </el-popover>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"pagination\">\n          <el-pagination\n              background\n              layout=\"prev, pager, next\"\n              :total=\"total\"\n              @current-change=\"handleChangePage\">\n          </el-pagination>\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport router from \"@/router\";\nimport api from '../api'\nimport moment from 'moment'\n\nexport default {\n  name: \"Customer\",\n  props: {\n    msg: String,\n  },\n  components: {},\n  data() {\n    return {\n      name: \"\",\n      search: \"\",\n      total_value: \"\",\n      status: \"\",\n      note: \"\",\n      errorName: \"\",\n      errorTotalValue: \"\",\n      errorStatus: \"\",\n      orders: [],\n      pickerOptions: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        },\n        shortcuts: [\n          {\n            text: \"Hôm nay\",\n            onClick(picker) {\n              picker.$emit(\"pick\", new Date());\n            },\n          },\n          {\n            text: \"Hôm qua\",\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\n              picker.$emit(\"pick\", date);\n            },\n          },\n          {\n            text: \"Tuần trước\",\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", date);\n            },\n          },\n        ],\n      },\n      value1: \"\",\n      value2: \"\",\n      statusFilter: '',\n      statusChange: '',\n      total: 0,\n      currentPage: 1,\n    };\n  },\n  methods: {\n    formatMoney(data) {\n      return data.toLocaleString(\"vi-VN\");\n    },\n    changeStatus(id, status) {\n      console.log(id)\n      console.log(status)\n      let data = {\n        status: status\n      }\n      api.changeStatusOrders(id, data).then(() => {\n        let params = {\n          page: this.currentPage,\n          q: this.search\n        }\n        api.getDataOrders(params).then((response) => {\n          this.orders = response.data.data.data\n        })\n        this.$message({\n          message: 'Cập nhật thành công.',\n          type: 'success',\n          center:true\n        });\n      }).catch(() => {\n        this.$message({\n          message: 'Cập nhật thất bại!',\n          type: 'error',\n          center:true\n        });\n      })\n    },\n    toggleSelection(rows) {\n      if (rows) {\n        rows.forEach((row) => {\n          this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    orderDetail(id) {\n      if (router.currentRoute.name !== \"OrderDetail\") {\n        return router.push({ name: \"OrderDetail\", params: {id} });\n      }\n    },\n    reloadItemItem() {\n      this.errorName = \"\";\n      this.errorTotalValue = \"\";\n      this.errorStatus = \"\";\n      this.name = \"\";\n      this.total_value = \"\";\n      this.status = \"\";\n      this.note = \"\";\n    },\n    handleChangePage(page) {\n      this.currentPage = page\n      let params = {\n        page: page,\n        q: this.search\n      }\n      api.getDataOrders(params).then((response) => {\n        this.orders = response.data.data.data\n      })\n    },\n    handleSearch() {\n      let params = {\n        q: this.search\n      }\n      api.getDataOrders(params).then((response) => {\n        this.orders = response.data.data.data\n        this.total = response.data.data.total\n        this.currentPage = response.data.data.current_page\n      })\n    },\n    formatDate (dateString) {\n      return moment(dateString).format('DD-MM-YYYY HH:MM')\n    },\n  },\n  mounted() {\n    api.getDataOrders().then((response) => {\n      this.orders = response.data.data.data\n      this.total = response.data.data.total\n      this.currentPage = response.data.data.current_page\n    })\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../assets/styles/variables\";\n\n.dashboard {\n  label {\n    font-weight: bold;\n    margin-bottom: 10px;\n  }\n}\n//el card\n.text {\n  font-size: 14px;\n}\n\n.item {\n  margin-bottom: 18px;\n}\n\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n.box-card {\n  margin-top: 20px;\n  width: 100%;\n  height: 100%;\n  .title {\n    font-weight: bold;\n    font-size: 25px;\n    line-height: 40px;\n  }\n  .btn-add-user {\n    height: 40px;\n    width: 150px;\n    border-radius: 21px !important;\n    color: white;\n    font-weight: bold;\n    background-color: $colorBlue;\n  }\n  .box-search {\n    max-width: 100%;\n    label {\n      margin-bottom: 10px !important;\n    }\n    .search-name,\n    .search-code {\n      margin-top: 10px;\n    }\n    .search-select {\n      width: 100%;\n    }\n    .btn-search {\n      height: 40px;\n      width: 100%;\n      border-radius: 5px !important;\n      color: white;\n      font-weight: bold;\n      background-color: $colorMellowGreen;\n      margin-top: 27px;\n    }\n  }\n  .box-tabel {\n    margin-top: 20px;\n    .tabel-work {\n      color: red;\n    }\n    .pagination {\n      margin: 20px 0;\n      float: right;\n    }\n    .btn-edit {\n      cursor: pointer;\n    }\n  }\n  .label-add {\n    margin-top: 10px;\n  }\n  .input-add {\n    margin-top: 5px;\n    margin-bottom: 10px;\n    width: 300px;\n  }\n  .select-add {\n    margin-top: 5px;\n    margin-bottom: 10px;\n    width: 300px;\n  }\n  .error {\n    color: $colorRed;\n    font-size: 12px;\n    margin-bottom: 15px;\n  }\n  .star {\n    color: red;\n    margin-left: 5px;\n  }\n}\n.btn-edit-work {\n  margin-left: 7px !important;\n}\n.box-edit-dailog {\n  font-weight: 400;\n  color: #212529;\n  text-align: inherit;\n  margin: 5px 0;\n  padding-left: 5px;\n  height: 30px;\n  line-height: 30px;\n  i {\n    margin-right: 5px;\n  }\n  cursor: pointer;\n}\n.box-edit-dailog:hover {\n  background-color: #f8f9fa;\n}\n.btn-search {\n  margin-left: -60px;\n}\n.dateFrom {\n  margin-right: 18px;\n}\n.dateTo {\n  margin-right: 10px;\n}\n.formDate {\n  display: inline;\n  float: left;\n}\n</style>\n"]}]}