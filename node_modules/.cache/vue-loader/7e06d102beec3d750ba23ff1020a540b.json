{"remainingRequest":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/easy-shop-webapp/src/views/ProductDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hunglq/easy-shop-webapp/src/views/ProductDetail.vue","mtime":1619169069522},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgYXBpIGZyb20gIkAvYXBpIjsKaW1wb3J0IF8gZnJvbSAibG9kYXNoIjsKZXhwb3J0IGRlZmF1bHQgewpuYW1lOiAiUHJvZHVjdERldGFpbCIsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0OiBbXSwKICAgICAgaGlzdG9yaWVzOiBbXSwKICAgICAgYmFzZVVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1VSTCArICIvc3RvcmFnZS8iLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKFsidXBkYXRlVGl0bGUiLCAidXBkYXRlU2lkZUJhciJdKSwKICAgIGNoYW5nZVBhZ2VUaXRsZSgpIHsKICAgICAgdGhpcy51cGRhdGVUaXRsZSgiQ2hpIHRp4bq/dCBz4bqjbiBwaOG6qW0iKTsKICAgIH0sCiAgICBjaGFuZ2VJbmRleFNpZGViYXIoKSB7CiAgICAgIHRoaXMudXBkYXRlU2lkZUJhcigiMyIpOwogICAgfSwKICAgICAgZm9ybWF0RGF0ZShkYXRlU3RyaW5nKSB7CiAgICAgIHJldHVybiBtb21lbnQoZGF0ZVN0cmluZykuZm9ybWF0KCJISDptbSBERC9NTS9ZWVlZIik7CiAgICB9LAogICAgIGZvcm1hdE1vbmV5KGRhdGEpIHsKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICByZXR1cm4gcGFyc2VJbnQoZGF0YSkudG9Mb2NhbGVTdHJpbmcoInZpLVZOIik7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5jaGFuZ2VQYWdlVGl0bGUoKTsKICAgIHRoaXMuY2hhbmdlSW5kZXhTaWRlYmFyKCk7CiAgICBpZiAoIXRoaXMuJHJvdXRlLnF1ZXJ5LmlkKSB7CiAgICAgIHJldHVybiByb3V0ZXIucHVzaCh7IG5hbWU6ICJQcm9kdWN0cyIgfSk7CiAgICB9IGVsc2UgewogICAgICBhcGkKICAgICAgICAgIC5nZXRQcm9kdWN0KHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHRoaXMucHJvZHVjdCA9IF8uZ2V0KHJlc3BvbnNlLCAiZGF0YS5kYXRhIik7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0ID0gW107CiAgICAgICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ProductDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"product-detail\">\n    <el-card class=\"product-info\">\n      <div class=\"first-session\">\n        <h2 class=\"product-name\">\n          {{product.name}}\n        </h2>\n        <div class=\"sub\">\n          <el-row :gutter=\"20\">\n            <el-col :sm=\"12\" :md=\"7\">\n              <div class=\"product-image\">\n                <img\n                    class=\"product-image\"\n                    v-if=\"product.image\"\n                    :src=\"baseUrl + product.image\"\n                    alt=\"\"\n                />\n                <img\n                    class=\"product-image\"\n                    v-else\n                    src=\"../assets/images/product.jpg\"\n                    alt=\"\"\n                />\n              </div>\n            </el-col>\n            <el-col :sm=\"12\" :md=\"7\">\n              <div class=\"all-detail\">\n                <span>SKU:</span>\n                <p class=\"detail\">{{product.sku}}</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Giá nhập: </span>\n                <p class=\"detail\"> {{ formatMoney(product.original_price) }} VNĐ</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Giá bán: </span>\n                <p class=\"detail\">  {{ formatMoney(product.sale_price) }} VNĐ</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Tồn kho: </span>\n                <p class=\"detail\">{{Number(product.quantity_in_stock).toLocaleString(\"vi-VN\")}}</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Khối lượng: </span>\n                <p class=\"detail\">{{Number(product.weight).toLocaleString(\"vi-VN\")}} gam</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Danh mục: </span>\n                <p class=\"detail\" v-for=\"(category, index) in product.categories\" :key=\"index\">\n                  <b>\n                    {{ category.name }}<span v-if=\"index + 1 != product.categories.length\">,</span>\n                  </b>\n                </p>\n              </div>\n            </el-col>\n            <el-col :sm=\"24\" :md=\"10\">\n              <div v-if=\"product.description\" class=\"all-detail\">\n                <p class=\"title-note\">Mô tả sản phẩm: </p>\n                <p class=\"description\">{{product.description}}</p>\n              </div>\n            </el-col>\n          </el-row>\n        </div>\n      </div>\n      <div class=\"history\">\n        <h1>Lịch sử nhập hàng</h1>\n        <el-table\n            ref=\"multipleTable\"\n            style=\"width: 100%\"\n            height=\"calc(100vh - 435px)\"\n            :data=\"product.histories\"\n        >\n          <el-table-column align=\"center\" prop=\"created_at\" label=\"Thời gian nhập hàng\">\n            <template slot-scope=\"scope\">\n              {{formatDate(scope.row.created_at)}}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" prop=\"quantity\" label=\"Số lượng nhập\">\n            <template slot-scope= \"scope\">\n              {{formatMoney(scope.row.quantity)}}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" prop=\"total_value\" label=\"Tồn kho sau nhập\">\n            <template slot-scope=\"scope\">\n              {{formatMoney(scope.row.quantity_in_stock)}}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" prop=\"creator_name\" label=\"Người nhập hàng\">\n            <template slot-scope=\"scope\">\n              {{scope.row.user.name}}\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from \"vuex\";\nimport moment from \"moment\";\nimport router from \"@/router\";\nimport api from \"@/api\";\nimport _ from \"lodash\";\nexport default {\nname: \"ProductDetail\",\n  data () {\n    return {\n      product: [],\n      histories: [],\n      baseUrl: process.env.VUE_APP_BASE_URL + \"/storage/\",\n    }\n  },\n  methods: {\n    ...mapMutations([\"updateTitle\", \"updateSideBar\"]),\n    changePageTitle() {\n      this.updateTitle(\"Chi tiết sản phẩm\");\n    },\n    changeIndexSidebar() {\n      this.updateSideBar(\"3\");\n    },\n      formatDate(dateString) {\n      return moment(dateString).format(\"HH:mm DD/MM/YYYY\");\n    },\n     formatMoney(data) {\n      if (data) {\n        return parseInt(data).toLocaleString(\"vi-VN\");\n      }\n    },\n  },\n  mounted() {\n    this.changePageTitle();\n    this.changeIndexSidebar();\n    if (!this.$route.query.id) {\n      return router.push({ name: \"Products\" });\n    } else {\n      api\n          .getProduct(this.$route.query.id)\n          .then((response) => {\n            this.product = _.get(response, \"data.data\");\n          })\n          .catch(() => {\n            this.product = [];\n          });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .product-info {\n    height: 100%;\n    .first-session {\n      .product-name {\n        margin: 0;\n        padding-bottom: 10px;\n      }\n      .sub {\n        .product-image {\n          width: 100%;\n          img {\n            width: 160px;\n            height: 160px;\n            object-fit: cover;\n          }\n        }\n        .all-detail {\n          margin-bottom: 10px;\n          .detail {\n            display: inline;\n            font-weight: bold;\n            margin-left: 7px;\n          }\n          .description {\n            line-height: 2;\n            text-align: justify;\n            word-break: break-word;\n          }\n          .title-note {\n            font-weight: bold;\n          }\n        }\n        @media only screen and (max-width: 992px) {\n          .all-detail {\n            margin-top: 10px;\n          }\n        }\n      }\n    }\n    .history {\n      margin-top: 20px;\n      padding-bottom: 10px;\n    }\n    @media only screen and (max-width: 768px) {\n      .el-table {\n        font-size: 12px;\n      }\n    }\n  }\n</style>\n"]}]}