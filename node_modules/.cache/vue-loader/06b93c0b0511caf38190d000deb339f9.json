{"remainingRequest":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/easy-shop-webapp/src/views/UserSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hunglq/easy-shop-webapp/src/views/UserSetting.vue","mtime":1616988537882},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcE11dGF0aW9ucywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHtpc1ZhbGlkRW1haWx9IGZyb20gJy4uL3V0aWxzL2hlbHBlcicKLy8gaW1wb3J0IGFwaSBmcm9tICcuLi9hcGknCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yTmFtZTogJycsCiAgICAgIGVycm9yUGhvbmU6ICcnLAogICAgICBuYW1lOiAnJywKICAgICAgcGhvbmU6JycsCiAgICAgIGVtYWlsOicnLAogICAgICBhZGRyZXNzOicnLAogICAgICBhdmF0YXI6JycsCiAgICAgIGltYWdlVXJsOiAnJywKICAgICAgZXJyb3JFbWFpbDogJycsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ2F1dGgnLCBbJ2lzQXV0aGVudGljYXRlZCddKQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCdhdXRoJywgWwogICAgICAndXBkYXRlTG9naW5TdGF0dXMnLAogICAgICAndXBkYXRlQWNjZXNzVG9rZW4nCiAgICBdKSwKICAgIHVwZGF0ZVVzZXIoKSB7CiAgICAgIGlmKHRoaXMuaXNWYWxpZERhdGEoKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uoe21lc3NhZ2U6ICdD4bqtcCBuaOG6rXQgdGjDtG5nIHRpbiB0aMOgbmggY8O0bmchJywgdHlwZTogJ3N1Y2Nlc3MnfSk7CiAgICAgIH0KICAgIH0sCiAgICBpc1ZhbGlkRGF0YSAoKSB7CiAgICAgIGxldCBlcnJvciA9IGZhbHNlOwogICAgICB0aGlzLmVycm9yTmFtZSA9ICcnOwogICAgICB0aGlzLmVycm9yRW1haWwgPSAnJzsKICAgICAgdGhpcy5lcnJvclBob25lID0gJyc7CiAgICAgIGlmKHRoaXMuZW1haWwgIT09ICcnKSB7CiAgICAgICAgaWYgKCFpc1ZhbGlkRW1haWwodGhpcy5lbWFpbCkpIHsKICAgICAgICAgIGVycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZXJyb3JFbWFpbCA9ICdFbWFpbCBzYWkgxJHhu4tuaCBk4bqhbmcsIHZ1aSBsw7JuZyBuaOG6rXAgbOG6oWknOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodGhpcy5uYW1lLmxlbmd0aCA8IDYpIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck5hbWUgPSAnSOG7jSB2w6AgdMOqbiBwaOG6o2kgbOG7m24gaMahbiA2IGvDvSB04buxISc7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubmFtZS5sZW5ndGggPT09IDApIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck5hbWUgPSAnSOG7jSB2w6AgdMOqbiBraMO0bmcgxJHGsOG7o2MgxJHhu4MgdHLhu5FuZyEnOwogICAgICB9CiAgICAgIGlmICh0aGlzLnBob25lLmxlbmd0aCA8IDkpIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvclBob25lID0gJ1Phu5EgxJFp4buHbiB0aG/huqFpIHBo4bqjaSBs4bubbiBoxqFuIDkga8O9IHThu7EhJzsKICAgICAgfQogICAgICBpZiAodGhpcy5waG9uZS5sZW5ndGggPiAxMSkgewogICAgICAgIGVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yUGhvbmUgPSAnU+G7kSDEkWnhu4duIHRob+G6oWkgcGjhuqNpIG5o4buPIGjGoW4gMTEga8O9IHThu7EhJzsKICAgICAgfQogICAgICBpZiAodGhpcy5waG9uZS5sZW5ndGggPT09IDApIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvclBob25lID0gJ1Phu5EgxJFp4buHbiB0aG/huqFpIGtow7RuZyDEkcaw4bujYyDEkeG7gyB0cuG7kW5nISc7CiAgICAgIH0KCiAgICAgIHJldHVybiAhZXJyb3IKICAgIH0sCiAgICBiYWNrSG9tZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnSG9tZScgfSkKICAgIH0sCiAgICAvLyBjYXAgbmhhdCBhbmggZGFpIGRpZW4KICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIHRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsKICAgIH0sCiAgICBiZWZvcmVBdmF0YXJVcGxvYWQoZmlsZSkgewogICAgICBjb25zdCBpc0pQRyA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnOwogICAgICBjb25zdCBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7CgogICAgICBpZiAoIWlzSlBHKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignQXZhdGFyIHBpY3R1cmUgbXVzdCBiZSBKUEcgZm9ybWF0IScpOwogICAgICB9CiAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignQXZhdGFyIHBpY3R1cmUgc2l6ZSBjYW4gbm90IGV4Y2VlZCAyTUIhJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGlzSlBHICYmIGlzTHQyTTsKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["UserSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserSetting.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"loginForm\">\n        <div class=\"logo\">\n            <img src=\"../assets/images/logo_dark.png\" alt=\"\">\n        </div>\n        <div>\n          <div class=\"title\"><span>Thông tin tài khoản</span></div>\n          <div class=\"back-to-home\" @click=\"backHome\"><span>Quay lại</span></div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Họ và tên\" type=\"text\"  v-model=\"name\"></el-input>\n            <div v-if=\"this.errorName !== '' \" class=\"error\">\n                <span> {{ errorName }} </span>\n            </div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Số điện thoại\" type=\"text\"  v-model=\"phone\"></el-input>\n            <div v-if=\"this.errorPhone !== '' \" class=\"error\">\n                <span> {{ errorPhone }} </span>\n            </div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Email\" type=\"email\"  v-model=\"email\"></el-input>\n            <div v-if=\"this.errorEmail !== '' \" class=\"error\">\n                <span> {{ errorEmail }} </span>\n            </div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Địa chỉ\" type=\"text\"  v-model=\"address\"></el-input>\n        </div>\n        <!-- cap nhat anh dai dien -->\n        <div class=\"inputWrap\">\n            <el-upload\n              class=\"avatar-uploader\"\n              action=\"https://jsonplaceholder.typicode.com/posts/\"\n              :show-file-list=\"false\"\n              :on-success=\"handleAvatarSuccess\"\n              :before-upload=\"beforeAvatarUpload\">\n              <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </el-upload>\n        </div>\n        <el-button type=\"primary\" class=\"loginButton\" @click=\"updateUser\">Cập nhật thông tin</el-button>\n    </div>\n</template>\n<script>\n  import { mapMutations, mapState } from 'vuex';\n  import {isValidEmail} from '../utils/helper'\n  // import api from '../api'\n  \n  export default {\n    name: \"Login\",\n    data () {\n      return {\n        errorName: '',\n        errorPhone: '',\n        name: '',\n        phone:'',\n        email:'',\n        address:'',\n        avatar:'',\n        imageUrl: '',\n        errorEmail: '',\n      }\n    },\n    computed: {\n      ...mapState('auth', ['isAuthenticated'])\n    },\n    methods: {\n      ...mapMutations('auth', [\n        'updateLoginStatus',\n        'updateAccessToken'\n      ]),\n      updateUser() {\n        if(this.isValidData()) {\n          this.$message({message: 'Cập nhật thông tin thành công!', type: 'success'});\n        }\n      },\n      isValidData () {\n        let error = false;\n        this.errorName = '';\n        this.errorEmail = '';\n        this.errorPhone = '';\n        if(this.email !== '') {\n          if (!isValidEmail(this.email)) {\n            error = true;\n            this.errorEmail = 'Email sai định dạng, vui lòng nhập lại';\n          }\n        }\n        if (this.name.length < 6) {\n          error = true;\n          this.errorName = 'Họ và tên phải lớn hơn 6 ký tự!';\n        }\n        if (this.name.length === 0) {\n          error = true;\n          this.errorName = 'Họ và tên không được để trống!';\n        }\n        if (this.phone.length < 9) {\n          error = true;\n          this.errorPhone = 'Số điện thoại phải lớn hơn 9 ký tự!';\n        }\n        if (this.phone.length > 11) {\n          error = true;\n          this.errorPhone = 'Số điện thoại phải nhỏ hơn 11 ký tự!';\n        }\n        if (this.phone.length === 0) {\n          error = true;\n          this.errorPhone = 'Số điện thoại không được để trống!';\n        }\n\n        return !error\n      },\n      backHome() {\n        this.$router.push({ name: 'Home' })\n      },\n      // cap nhat anh dai dien\n      handleAvatarSuccess(res, file) {\n        this.imageUrl = URL.createObjectURL(file.raw);\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('Avatar picture must be JPG format!');\n        }\n        if (!isLt2M) {\n          this.$message.error('Avatar picture size can not exceed 2MB!');\n        }\n        return isJPG && isLt2M;\n      }\n    },\n  }\n</script>\n<style lang=\"scss\">\n    @import \"../assets/styles/variables\";\n    .loginForm {\n      .title {\n        font-weight: bold;\n        color: $colorSecond;\n        margin-bottom: 10px;\n        display: inline-block;\n      }\n      .back-to-home{\n        font-size: 14px;\n        cursor: pointer;\n        color: $colorSecondary;\n        display: inline-block;\n        margin-left: 150px;\n      }\n      .back-to-home:hover {\n        color: $colorMainDisable;\n      }\n        max-width: 400px;\n        width: 100%;\n        display: block;\n        box-sizing: border-box;\n        margin-left: auto;\n        margin-right: auto;\n        background: $colorWhite;\n        padding: 24px;\n        border-radius: 10px;\n        .logo {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-bottom: 24px;\n            img {\n                width: 200px;\n                vertical-align: middle;\n                border-style: none;\n                box-sizing: border-box;\n            }\n        }\n        .inputWrap {\n            margin-bottom: 24px;\n            .error {\n                color: $colorRed;\n                margin-top: 8px;\n                font-size: 12px;\n                margin-left: 0px;\n            }\n            // css cho avatar\n            .avatar-uploader .el-upload {\n              border: 1px dashed #d9d9d9;\n              border-radius: 6px;\n              cursor: pointer;\n              position: relative;\n              overflow: hidden;\n              margin-left: 92px;\n            }\n            .avatar-uploader .el-upload:hover {\n              border-color: #409EFF;\n            }\n            .avatar-uploader-icon {\n              font-size: 28px;\n              color: #8c939d;\n              width: 178px;\n              height: 178px;\n              line-height: 178px;\n              text-align: center;\n            }\n            .avatar {\n              width: 178px;\n              height: 178px;\n              display: block;\n            }\n        }\n        .loginButton {\n            width: 100%;\n        }\n    }\n</style>"]}]}