{"remainingRequest":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/easy-shop-webapp/src/views/Order.vue?vue&type=style&index=0&id=3c1ef684&scoped=true&lang=scss&","dependencies":[{"path":"/home/hunglq/easy-shop-webapp/src/views/Order.vue","mtime":1620027224741},{"path":"/home/hunglq/easy-shop-webapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4uL2Fzc2V0cy9zdHlsZXMvdmFyaWFibGVzIjsKCi5kYXNoYm9hcmQgewogIC5ib3gtc2VhcmNoLWhlYWRlciB7CiAgICB3aWR0aDogYXV0bzsKICAgIC5ib3gtc2VhcmNoIHsKICAgICAgLmJveC1iaWctc2VhcmNoIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIC5idG4tc2VhcmNoIHsKICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgIH0KICAgICAgICAuc2VhcmNoLWdsYXNzIHsKICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5idC1leGNlbCB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgICB9CiAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHsKICAgICAgICAuZWwtY29sIHsKICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQogICAgICAgIC5idC1leGNlbCB7CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7CiAgICAgICAgICAuZWwtYnV0dG9uIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk5MnB4KSB7CiAgICAgICAgLmVsLWNvbCB7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICBsYWJlbCB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgfQp9Ci8vZWwgY2FyZAoudGV4dCB7CiAgZm9udC1zaXplOiAxNHB4Owp9CgouaXRlbSB7CiAgbWFyZ2luLWJvdHRvbTogMThweDsKfQoKLmNsZWFyZml4OmJlZm9yZSwKLmNsZWFyZml4OmFmdGVyIHsKICBkaXNwbGF5OiB0YWJsZTsKICBjb250ZW50OiAiIjsKfQouY2xlYXJmaXg6YWZ0ZXIgewogIGNsZWFyOiBib3RoOwp9Ci5ib3gtY2FyZCB7CiAgbWFyZ2luLXRvcDogMjBweDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgLnRpdGxlIHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgZm9udC1zaXplOiAyNXB4OwogICAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgfQogIC5idG4tYWRkLXVzZXIgewogICAgaGVpZ2h0OiA0MHB4OwogICAgd2lkdGg6IDE1MHB4OwogICAgYm9yZGVyLXJhZGl1czogMjFweCAhaW1wb3J0YW50OwogICAgY29sb3I6IHdoaXRlOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3JCbHVlOwogIH0KICAuYm94LXNlYXJjaCB7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICBsYWJlbCB7CiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDsKICAgIH0KICAgIC5zZWFyY2gtbmFtZSwKICAgIC5zZWFyY2gtY29kZSB7CiAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICB9CiAgICAuc2VhcmNoLXNlbGVjdCB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgfQogIH0KICAuYm94LXRhYmVsIHsKICAgIC50YWJlbC13b3JrIHsKICAgICAgY29sb3I6IHJlZDsKICAgIH0KICAgIC50YWJsZS1jb2RlIHsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDsKICAgIH0KICAgIC5wYWdpbmF0aW9uV2FycCB7CiAgICAgIHBhZGRpbmc6IDIwcHggMDsKICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgLmVsLXBhZ2luYXRpb24gewogICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgfQogICAgICAudGV4dEluZm8gewogICAgICAgIHAgewogICAgICAgICAgZm9udC1zaXplOiAwLjkyODU3cmVtOwogICAgICAgICAgbWFyZ2luOiAxMHB4IDA7CiAgICAgICAgfQogICAgICB9CiAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHsKICAgICAgICAudGV4dEluZm8gewogICAgICAgICAgcCB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAuZWwtcGFnaW5hdGlvbiB7CiAgICAgICAgICBmbG9hdDogbm9uZTsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC5idG4tZWRpdCB7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICAgICNjaGFuZ2Utc3RhdHVzLW11bHRpIHsKICAgICAgZGlzcGxheTogbm9uZTsKICAgIH0KICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY3cHgpIHsKICAgICAgLmVsLXRhYmxlIHsKICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIH0KICAgIH0KICB9CiAgLmxhYmVsLWFkZCB7CiAgICBtYXJnaW4tdG9wOiAxMHB4OwogIH0KICAuaW5wdXQtYWRkIHsKICAgIG1hcmdpbi10b3A6IDVweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7CiAgfQogIC5zZWxlY3QtYWRkIHsKICAgIG1hcmdpbi10b3A6IDVweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7CiAgfQogIC5lcnJvciB7CiAgICBjb2xvcjogJGNvbG9yUmVkOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICB9CiAgLnN0YXIgewogICAgY29sb3I6IHJlZDsKICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgfQp9Ci5idG4tZWRpdC13b3JrIHsKICBtYXJnaW4tbGVmdDogN3B4ICFpbXBvcnRhbnQ7Cn0KLmJveC1lZGl0LWRhaWxvZyB7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBjb2xvcjogIzIxMjUyOTsKICB0ZXh0LWFsaWduOiBpbmhlcml0OwogIG1hcmdpbjogNXB4IDA7CiAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgaGVpZ2h0OiAzMHB4OwogIGxpbmUtaGVpZ2h0OiAzMHB4OwogIGkgewogICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgfQogIGN1cnNvcjogcG9pbnRlcjsKfQouYm94LWNvbG9yIHsKICB3aWR0aDogOTBweDsKICBmb250LXdlaWdodDogYm9sZDsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWF4LXdpZHRoOiA5OTJweCkgewogIC5ib3gtY29sb3IgewogICAgd2lkdGg6IDc1cHggIWltcG9ydGFudDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICB9Cn0KQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkgewogIC5ib3gtY29sb3IgewogICAgd2lkdGg6IDYwcHg7CiAgICBmb250LXNpemU6IDEwcHg7CiAgfQogIC5idG4tc2VhcmNoIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKICB9CiAgLnNlYXJjaC1nbGFzcyB7CiAgICBkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudDsKICB9Cn0KLmJveC1wZW5kaW5nIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3JTZWNvbmQ7CiAgY29sb3I6ICRjb2xvcldoaXRlOwp9CgouYm94LXByb2Nlc3NlZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yTWFpbjsKICBjb2xvcjogJGNvbG9yV2hpdGU7Cn0KLmJveC1hcmUtZGVsaXZlcmVkIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3JNZWxsb3dHcmVlbjsKICBjb2xvcjogJGNvbG9yV2hpdGU7Cn0KLmJveC1kZWxpdmVyZWQgewogIGJhY2tncm91bmQtY29sb3I6ICRjb2xvckJyYW5kVGV4dDsKICBjb2xvcjogJGNvbG9yV2hpdGU7Cn0KLmJveC1jYW5jZWwgewogIGJhY2tncm91bmQtY29sb3I6ICRjb2xvclJlZDsKICBjb2xvcjogJGNvbG9yV2hpdGU7Cn0KLmJveC1yZXR1cm4gewogIGJhY2tncm91bmQtY29sb3I6ICRjb2xvck9yYW5nZTsKICBjb2xvcjogJGNvbG9yV2hpdGU7Cn0KLmRhdGVGcm9tIHsKICBtYXJnaW4tcmlnaHQ6IDE4cHg7Cn0KLmRhdGVUbyB7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Cg=="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAihBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <el-card class=\"box-search-header\">\n      <el-row :gutter=\"20\" class=\"box-search\">\n        <el-col :sm=\"12\" :md=\"8\" class=\"box-big-search\">\n          <el-input\n            placeholder=\"Nhập mã, tên người nhận\"\n            class=\"search-name\"\n            type=\"text\"\n            prefix-icon=\"el-icon-search\"\n            v-model=\"search\"\n            @clear=\"handleSearch\"\n            @keydown.enter.native=\"handleSearch\"\n            clearable\n          ></el-input>\n          <div>\n          <el-button class=\"btn-search\" @click=\"handleSearch\"\n            >Tìm kiếm</el-button\n          >\n          <el-button\n            @click=\"submitSearch\"\n            style=\"margin-left: 15px\"\n            class=\"search-glass\"\n            ><i class=\"fa fa-search\"></i\n          ></el-button>\n          </div>\n        </el-col>\n        <el-col :sm=\"12\" :md=\"7\">\n          <el-date-picker\n            style=\"width: 100%\"\n            v-model=\"valueTime\"\n            type=\"daterange\"\n            start-placeholder=\"Từ ngày\"\n            end-placeholder=\"Đến ngày\"\n            format=\"dd/MM/yyyy\"\n            @change=\"handleSearch\"\n          >\n          </el-date-picker>\n        </el-col>\n        <el-col :sm=\"12\" :md=\"4\">\n          <el-select\n            style=\"width: 100%\"\n            placeholder=\"Chọn trạng thái\"\n            v-model=\"statusFilter\"\n            @change=\"handleSearch\"\n            clearable\n          >\n            <el-option value=\"1\" label=\"Chờ xử lý\">Chờ xử lý</el-option>\n            <el-option value=\"2\" label=\"Đã xử lý\">Đã xử lý</el-option>\n            <el-option value=\"3\" label=\"Đang giao\">Đang giao</el-option>\n            <el-option value=\"4\" label=\"Đã giao\">Đã giao</el-option>\n            <el-option value=\"5\" label=\"Đã hủy\">Đã hủy</el-option>\n            <el-option value=\"6\" label=\"Trả hàng\">Trả hàng</el-option>\n          </el-select>\n        </el-col>\n        <el-col :sm=\"12\" :md=\"5\" class=\"bt-excel\">\n          <el-button type=\"success\" @click=\"exportExcel\"\n            ><i class=\"el-icon-tickets\"></i> Xuất Excel</el-button\n          >\n        </el-col>\n      </el-row>\n    </el-card>\n    <el-card class=\"box-card\">\n      <div class=\"box-tabel\">\n        <el-col style=\"float: left; margin-bottom: 15px\" :span=\"6\">\n          <div ref=\"statusSelect\" id=\"change-status-multi\">\n            <el-dropdown @command=\"changeStatusMultipleOrders\">\n              <el-button type=\"primary\">\n                Chuyển trạng thái<i\n                  class=\"el-icon-arrow-down el-icon--right\"\n                ></i>\n              </el-button>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item command=\"2\">Đã xử lý</el-dropdown-item>\n                <el-dropdown-item command=\"3\">Đang giao</el-dropdown-item>\n                <el-dropdown-item command=\"4\">Đã giao</el-dropdown-item>\n                <el-dropdown-item command=\"5\">Đã hủy</el-dropdown-item>\n                <el-dropdown-item command=\"6\">Trả hàng</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </div>\n        </el-col>\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"orders\"\n          v-loading=\"loading\"\n          style=\"width: 100%\"\n          height=\"calc(100vh - 360px)\"\n          @selection-change=\"handleSelectionChange\"\n        >\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\">\n          </el-table-column>\n          <el-table-column prop=\"code\" label=\"Mã đơn hàng\">\n            <template slot-scope=\"scope\">\n              <el-link\n                type=\"primary\"\n                @click=\"orderDetail(scope.row._id)\"\n                class=\"table-code\"\n                >{{ scope.row.code }}</el-link\n              >\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"customer\" label=\"Tên người nhận\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.receiver }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"total_value\" label=\"Tổng tiền\">\n            <template slot-scope=\"scope\">\n              {{ formatMoney(scope.row.total_value) }} VNĐ\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"status\" label=\"Trạng thái\">\n            <template slot-scope=\"scope\">\n              <div v-if=\"scope.row.status === 1\" class=\"box-color box-pending\">\n                Chờ xử lý\n              </div>\n              <div\n                v-if=\"scope.row.status === 2\"\n                class=\"box-color box-processed\"\n              >\n                Đã xử lý\n              </div>\n              <div\n                v-if=\"scope.row.status === 3\"\n                class=\"box-color box-are-delivered\"\n              >\n                Đang giao\n              </div>\n              <div\n                v-if=\"scope.row.status === 4\"\n                class=\"box-color box-delivered\"\n              >\n                Đã giao\n              </div>\n              <div v-if=\"scope.row.status === 5\" class=\"box-color box-cancel\">\n                Đã hủy\n              </div>\n              <div v-if=\"scope.row.status === 6\" class=\"box-color box-return\">\n                Trả hàng\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"delivery_address\" label=\"Địa chỉ nhận hàng\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.delivery_address }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"created_at\" label=\"Ngày tạo đơn\">\n            <template slot-scope=\"scope\">\n              {{ formatDateCreated(scope.row.created_at) }}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"status\"\n            align=\"center\"\n            label=\"Hành động\"\n            class=\"tabel-work\"\n          >\n            <template slot-scope=\"scope\">\n              <el-popover placement=\"bottom\" trigger=\"click\" width=\"100\">\n                <div\n                  class=\"box-edit-dailog\"\n                  @click=\"orderDetail(scope.row._id)\"\n                >\n                  <i class=\"fa fa-eye\"></i> Xem chi tiết\n                </div>\n                <div\n                  class=\"box-edit-dailog\"\n                  @click=\"changeStatus(scope.row._id, 2)\"\n                  v-if=\"scope.row.status === 1\"\n                >\n                  <i class=\"fa fa-check\"></i> Đã xử lý\n                </div>\n                <div\n                  class=\"box-edit-dailog\"\n                  @click=\"changeStatus(scope.row._id, 3)\"\n                  v-if=\"scope.row.status === 2\"\n                >\n                  <i class=\"fa fa-check\"></i> Đang giao\n                </div>\n                <div\n                  class=\"box-edit-dailog\"\n                  @click=\"changeStatus(scope.row._id, 4)\"\n                  v-if=\"scope.row.status === 3\"\n                >\n                  <i class=\"fa fa-check\"></i> Đã giao\n                </div>\n                <div\n                  class=\"box-edit-dailog\"\n                  @click=\"changeStatus(scope.row._id, 6)\"\n                  v-if=\"scope.row.status === 3 || scope.row.status === 4\"\n                >\n                  <i class=\"fa fa-undo\"></i> Trả hàng\n                </div>\n                <div\n                  class=\"box-edit-dailog\"\n                  @click=\"changeStatus(scope.row._id, 5)\"\n                  v-if=\"scope.row.status === 1 || scope.row.status === 2\"\n                >\n                  <i class=\"fa fa-trash\"></i> Hủy đơn\n                </div>\n                <div class=\"btn-edit\" slot=\"reference\">\n                  <i class=\"fa fa-ellipsis-v\"></i>\n                </div>\n              </el-popover>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-row class=\"paginationWarp\">\n          <el-col :sm=\"10\">\n            <div class=\"textInfo\">\n              <p>\n                Số lượng kết quả: {{ page.from }} - {{ page.to }} của\n                {{ page.total }}\n              </p>\n            </div>\n          </el-col>\n          <el-col :sm=\"14\">\n            <el-pagination\n              background\n              layout=\"prev, pager, next\"\n              :total=\"page.total\"\n              :page-size=\"page.pageSize\"\n              :current-page=\"page.currentPage\"\n              @current-change=\"handleCurrentChange\"\n            >\n            </el-pagination>\n          </el-col>\n        </el-row>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport router from \"@/router\";\nimport api from \"../api\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport { mapMutations } from \"vuex\";\nimport { formatDate } from \"@/utils/helper\";\nimport { STATUS } from \"@/utils/constants\";\n\nexport default {\n  name: \"Customer\",\n  props: {\n    msg: String,\n  },\n  components: {},\n  data() {\n    return {\n      name: \"\",\n      search: \"\",\n      total_value: \"\",\n      status: \"\",\n      note: \"\",\n      errorName: \"\",\n      errorTotalValue: \"\",\n      errorStatus: \"\",\n      orders: [],\n      valueTime: \"\",\n      statusFilter: \"\",\n      statusChange: \"\",\n      selectedOrders: [],\n      multipleSelection: [],\n\n      loading: true,\n      page: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 0,\n        from: 0,\n        to: 0,\n      },\n    };\n  },\n  methods: {\n    formatMoney(data) {\n      return data.toLocaleString(\"vi-VN\");\n    },\n    changeStatus(id, status) {\n      let data = {\n        status: status,\n      };\n      api\n        .changeStatusOrders(id, data)\n        .then(() => {\n          let params = {\n            page: this.currentPage,\n            q: this.search,\n          };\n          api.getDataOrders(params).then((response) => {\n            this.orders = _.get(response, \"data.data.data\");\n          });\n          this.$message({\n            message: \"Cập nhật thành công.\",\n            type: \"success\",\n            center: true,\n          });\n        })\n        .catch(() => {\n          this.$message({\n            message: \"Cập nhật thất bại!\",\n            type: \"error\",\n            center: true,\n          });\n        });\n      let control = document.getElementsByClassName(\"el-popper\");\n      control.forEach((element) => {\n        element.style.display = \"none\";\n        element.style.position = \"static\";\n      });\n    },\n    handleSelectionChange(orders) {\n      this.multipleSelection = orders;\n      if (orders && orders.length > 0) {\n        if (this.$refs.statusSelect) {\n          this.$refs.statusSelect.style.display = \"block\";\n        }\n      } else {\n        if (this.$refs.statusSelect) {\n          this.$refs.statusSelect.style.display = \"none\";\n        }\n      }\n    },\n    changeStatusMultipleOrders(status) {\n      let quantity = 0;\n      let nextStatusText = \"\";\n      if (this.multipleSelection && this.multipleSelection.length > 0) {\n        quantity = this.multipleSelection.length;\n      }\n      switch (parseInt(status)) {\n        case 2:\n          nextStatusText = \"Đã xử lý\";\n          break;\n        case 3:\n          nextStatusText = \"Đang giao\";\n          break;\n        case 4:\n          nextStatusText = \"Đã giao\";\n          break;\n        case 5:\n          nextStatusText = \"Đã Hủy\";\n          break;\n        case 6:\n          nextStatusText = \"Trả hàng\";\n          break;\n      }\n\n      let message = `Chuyển trạng thái ${\n        quantity ? quantity : \"\"\n      } đơn hàng sang ${nextStatusText}. Những đơn không hợp lệ sẽ được bỏ qua`;\n      this.$confirm(message, \"Cảnh báo\", {\n        confirmButtonText: \"Xác nhận\",\n        cancelButtonText: \"Hủy\",\n        type: \"warning\",\n      })\n        .then(() => {\n          let data = {\n            order_id: _.map(this.multipleSelection, \"_id\"),\n            status: status,\n          };\n          api\n            .changeStatusMultiOrders(data)\n            .then(() => {\n              let params = {\n                page: this.currentPage,\n                q: this.search,\n              };\n              api.getDataOrders(params).then((response) => {\n                this.orders = _.get(response, \"data.data.data\");\n              });\n              this.$message({\n                message: \"Đã cập nhật\",\n                type: \"success\",\n                center: true,\n              });\n            })\n            .catch(() => {\n              this.$message({\n                message: \"Cập nhật thất bại!\",\n                type: \"error\",\n                center: true,\n              });\n            });\n        })\n        .catch(() => {});\n    },\n    orderDetail(id) {\n      if (router.currentRoute.name !== \"OrderDetail\") {\n        return router.push({ name: \"OrderDetail\", query: { id: id } });\n      }\n    },\n    handleCurrentChange(val) {\n      let payload = {\n        page: val,\n      };\n      if (this.search.length > 0) {\n        payload.q = this.search;\n      }\n      if (this.valueTime && this.valueTime) {\n        payload = {\n          ...payload,\n          ...{\n            start_time: moment(this.valueTime[0]).unix(),\n            end_time: moment(this.valueTime[1]).unix(),\n          },\n        };\n      }\n      if (this.statusFilter) {\n        payload.status = this.statusFilter;\n      }\n      this.getDataOrder(payload);\n    },\n    handleSearch() {\n      let payload = {\n        page: 1,\n      };\n      if (this.search.length > 0) {\n        payload.q = this.search;\n      }\n      if (this.valueTime) {\n        payload = {\n          ...payload,\n          ...{\n            start_time: moment(this.valueTime[0]).unix(),\n            end_time: moment(this.valueTime[1]).unix(),\n          },\n        };\n      }\n      if (this.statusFilter) {\n        payload.status = this.statusFilter;\n      }\n      this.getDataOrder(payload);\n    },\n\n    formatDateCreated(dateString) {\n      return formatDate(dateString);\n    },\n    getName(row) {\n      return `${_.get(row, \"customer.name\", \"\")}`;\n    },\n    ...mapMutations([\"updateTitle\", \"updateSideBar\"]),\n\n    changePageTitle() {\n      this.updateTitle(\"Đơn hàng\");\n    },\n    changeIndexSidebar() {\n      this.updateSideBar(\"5\");\n    },\n    getDataOrder(params = {}) {\n      this.loading = true;\n      api\n        .getDataOrders(params)\n        .then((res) => {\n          this.orders = _.get(res, \"data.data.data\");\n\n          this.total = res.data.data.total;\n\n          this.page.currentPage = _.get(res, \"data.data.current_page\");\n          this.page.pageSize = _.get(res, \"data.data.per_page\");\n          this.page.total = _.get(res, \"data.data.total\");\n          let from = _.get(res, \"data.data.from\", 0);\n          let to = _.get(res, \"data.data.to\", 0);\n          this.page.from = from ? from : 0;\n          this.page.to = to ? to : 0;\n\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n        });\n    },\n    exportExcel() {\n      let payload = {};\n      if (this.search.length > 0) {\n        payload.q = this.search;\n      }\n      if (this.valueTime) {\n        payload = {\n          ...payload,\n          ...{\n            start_time: moment(this.valueTime[0]).unix(),\n            end_time: moment(this.valueTime[1]).unix(),\n          },\n        };\n      }\n      if (this.statusFilter) {\n        payload.status = this.statusFilter;\n      }\n      let nameFile = \"Danh sách đơn hàng.xlsx\";\n      if (this.statusFilter == STATUS.PENDING) {\n        nameFile = \"Danh sách đơn hàng chờ xử lý.xlsx\";\n      }\n      if (this.statusFilter == STATUS.APPROVED) {\n        nameFile = \"Danh sách đơn hàng đã xử lý.xlsx\";\n      }\n      if (this.statusFilter == STATUS.DELIVERED) {\n        nameFile = \"Danh sách đơn hàng đang giao.xlsx\";\n      }\n      if (this.statusFilter == STATUS.SHIPPED) {\n        nameFile = \"Danh sách đơn hàng đã giao.xlsx\";\n      }\n      if (this.statusFilter == STATUS.CANCELED) {\n        nameFile = \"Danh sách đơn hàng đã hủy.xlsx\";\n      }\n      if (this.statusFilter == STATUS.RETURNED) {\n        nameFile = \"Danh sách đơn hoàn trả.xlsx\";\n      }\n      api.exportExel(payload).then((response) => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", nameFile);\n        document.body.appendChild(link);\n        link.click();\n      });\n    },\n  },\n  mounted() {\n    this.changePageTitle();\n    this.getDataOrder();\n    this.changeIndexSidebar();\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../assets/styles/variables\";\n\n.dashboard {\n  .box-search-header {\n    width: auto;\n    .box-search {\n      .box-big-search {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        .btn-search {\n          margin-left: 10px;\n        }\n        .search-glass {\n          display: none;\n        }\n      }\n      .bt-excel {\n        display: flex;\n        justify-content: flex-end;\n      }\n      @media only screen and (max-width: 767px) {\n        .el-col {\n          margin-bottom: 10px;\n        }\n        .bt-excel {\n          justify-content: left;\n          .el-button {\n            font-size: 12px;\n          }\n        }\n      }\n      @media only screen and (max-width: 992px) {\n        .el-col {\n          margin-bottom: 10px;\n        }\n      }\n    }\n  }\n  label {\n    font-weight: bold;\n    margin-bottom: 10px;\n  }\n}\n//el card\n.text {\n  font-size: 14px;\n}\n\n.item {\n  margin-bottom: 18px;\n}\n\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n.box-card {\n  margin-top: 20px;\n  width: 100%;\n  height: 100%;\n  .title {\n    font-weight: bold;\n    font-size: 25px;\n    line-height: 40px;\n  }\n  .btn-add-user {\n    height: 40px;\n    width: 150px;\n    border-radius: 21px !important;\n    color: white;\n    font-weight: bold;\n    background-color: $colorBlue;\n  }\n  .box-search {\n    max-width: 100%;\n    label {\n      margin-bottom: 10px !important;\n    }\n    .search-name,\n    .search-code {\n      margin-top: 10px;\n    }\n    .search-select {\n      width: 100%;\n    }\n  }\n  .box-tabel {\n    .tabel-work {\n      color: red;\n    }\n    .table-code {\n      font-weight: bold !important;\n    }\n    .paginationWarp {\n      padding: 20px 0;\n      margin-bottom: 10px;\n      .el-pagination {\n        float: right;\n      }\n      .textInfo {\n        p {\n          font-size: 0.92857rem;\n          margin: 10px 0;\n        }\n      }\n      @media only screen and (max-width: 767px) {\n        .textInfo {\n          p {\n            font-size: 12px;\n            text-align: center;\n          }\n        }\n        .el-pagination {\n          float: none;\n          display: flex;\n          justify-content: center;\n        }\n      }\n    }\n    .btn-edit {\n      cursor: pointer;\n    }\n    #change-status-multi {\n      display: none;\n    }\n    @media only screen and (max-width: 767px) {\n      .el-table {\n        font-size: 12px;\n      }\n    }\n  }\n  .label-add {\n    margin-top: 10px;\n  }\n  .input-add {\n    margin-top: 5px;\n    margin-bottom: 10px;\n    width: 300px;\n  }\n  .select-add {\n    margin-top: 5px;\n    margin-bottom: 10px;\n    width: 300px;\n  }\n  .error {\n    color: $colorRed;\n    font-size: 12px;\n    margin-bottom: 15px;\n  }\n  .star {\n    color: red;\n    margin-left: 5px;\n  }\n}\n.btn-edit-work {\n  margin-left: 7px !important;\n}\n.box-edit-dailog {\n  font-weight: 400;\n  color: #212529;\n  text-align: inherit;\n  margin: 5px 0;\n  padding-left: 5px;\n  height: 30px;\n  line-height: 30px;\n  i {\n    margin-right: 5px;\n  }\n  cursor: pointer;\n}\n.box-color {\n  width: 90px;\n  font-weight: bold;\n  border-radius: 5px;\n  text-align: center;\n}\n@media only screen and (min-width: 768px) and (max-width: 992px) {\n  .box-color {\n    width: 75px !important;\n    font-size: 12px;\n  }\n}\n@media only screen and (max-width: 768px) {\n  .box-color {\n    width: 60px;\n    font-size: 10px;\n  }\n  .btn-search {\n    display: none !important;\n  }\n  .search-glass {\n    display: inline !important;\n  }\n}\n.box-pending {\n  background-color: $colorSecond;\n  color: $colorWhite;\n}\n\n.box-processed {\n  background-color: $colorMain;\n  color: $colorWhite;\n}\n.box-are-delivered {\n  background-color: $colorMellowGreen;\n  color: $colorWhite;\n}\n.box-delivered {\n  background-color: $colorBrandText;\n  color: $colorWhite;\n}\n.box-cancel {\n  background-color: $colorRed;\n  color: $colorWhite;\n}\n.box-return {\n  background-color: $colorOrange;\n  color: $colorWhite;\n}\n.dateFrom {\n  margin-right: 18px;\n}\n.dateTo {\n  margin-right: 10px;\n}\n</style>\n"]}]}