{"remainingRequest":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js!/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/easy-shop-webapp/src/views/UserSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hunglq/easy-shop-webapp/src/views/UserSetting.vue","mtime":1616988537882},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvaHVuZ2xxL2Vhc3ktc2hvcC13ZWJhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBpc1ZhbGlkRW1haWwgfSBmcm9tICcuLi91dGlscy9oZWxwZXInOyAvLyBpbXBvcnQgYXBpIGZyb20gJy4uL2FwaScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvck5hbWU6ICcnLAogICAgICBlcnJvclBob25lOiAnJywKICAgICAgbmFtZTogJycsCiAgICAgIHBob25lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBhZGRyZXNzOiAnJywKICAgICAgYXZhdGFyOiAnJywKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICBlcnJvckVtYWlsOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgnYXV0aCcsIFsnaXNBdXRoZW50aWNhdGVkJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucygnYXV0aCcsIFsndXBkYXRlTG9naW5TdGF0dXMnLCAndXBkYXRlQWNjZXNzVG9rZW4nXSkpLCB7fSwgewogICAgdXBkYXRlVXNlcjogZnVuY3Rpb24gdXBkYXRlVXNlcigpIHsKICAgICAgaWYgKHRoaXMuaXNWYWxpZERhdGEoKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ0Phuq1wIG5o4bqtdCB0aMO0bmcgdGluIHRow6BuaCBjw7RuZyEnLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBpc1ZhbGlkRGF0YTogZnVuY3Rpb24gaXNWYWxpZERhdGEoKSB7CiAgICAgIHZhciBlcnJvciA9IGZhbHNlOwogICAgICB0aGlzLmVycm9yTmFtZSA9ICcnOwogICAgICB0aGlzLmVycm9yRW1haWwgPSAnJzsKICAgICAgdGhpcy5lcnJvclBob25lID0gJyc7CgogICAgICBpZiAodGhpcy5lbWFpbCAhPT0gJycpIHsKICAgICAgICBpZiAoIWlzVmFsaWRFbWFpbCh0aGlzLmVtYWlsKSkgewogICAgICAgICAgZXJyb3IgPSB0cnVlOwogICAgICAgICAgdGhpcy5lcnJvckVtYWlsID0gJ0VtYWlsIHNhaSDEkeG7i25oIGThuqFuZywgdnVpIGzDsm5nIG5o4bqtcCBs4bqhaSc7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5uYW1lLmxlbmd0aCA8IDYpIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck5hbWUgPSAnSOG7jSB2w6AgdMOqbiBwaOG6o2kgbOG7m24gaMahbiA2IGvDvSB04buxISc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm5hbWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JOYW1lID0gJ0jhu40gdsOgIHTDqm4ga2jDtG5nIMSRxrDhu6NjIMSR4buDIHRy4buRbmchJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGhvbmUubGVuZ3RoIDwgOSkgewogICAgICAgIGVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yUGhvbmUgPSAnU+G7kSDEkWnhu4duIHRob+G6oWkgcGjhuqNpIGzhu5tuIGjGoW4gOSBrw70gdOG7sSEnOwogICAgICB9CgogICAgICBpZiAodGhpcy5waG9uZS5sZW5ndGggPiAxMSkgewogICAgICAgIGVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yUGhvbmUgPSAnU+G7kSDEkWnhu4duIHRob+G6oWkgcGjhuqNpIG5o4buPIGjGoW4gMTEga8O9IHThu7EhJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGhvbmUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JQaG9uZSA9ICdT4buRIMSRaeG7h24gdGhv4bqhaSBraMO0bmcgxJHGsOG7o2MgxJHhu4MgdHLhu5FuZyEnOwogICAgICB9CgogICAgICByZXR1cm4gIWVycm9yOwogICAgfSwKICAgIGJhY2tIb21lOiBmdW5jdGlvbiBiYWNrSG9tZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdIb21lJwogICAgICB9KTsKICAgIH0sCiAgICAvLyBjYXAgbmhhdCBhbmggZGFpIGRpZW4KICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIHRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsKICAgIH0sCiAgICBiZWZvcmVBdmF0YXJVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBpc0pQRyA9IGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnOwogICAgICB2YXIgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwoKICAgICAgaWYgKCFpc0pQRykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ0F2YXRhciBwaWN0dXJlIG11c3QgYmUgSlBHIGZvcm1hdCEnKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdBdmF0YXIgcGljdHVyZSBzaXplIGNhbiBub3QgZXhjZWVkIDJNQiEnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGlzSlBHICYmIGlzTHQyTTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["UserSetting.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"loginForm\">\n        <div class=\"logo\">\n            <img src=\"../assets/images/logo_dark.png\" alt=\"\">\n        </div>\n        <div>\n          <div class=\"title\"><span>Thông tin tài khoản</span></div>\n          <div class=\"back-to-home\" @click=\"backHome\"><span>Quay lại</span></div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Họ và tên\" type=\"text\"  v-model=\"name\"></el-input>\n            <div v-if=\"this.errorName !== '' \" class=\"error\">\n                <span> {{ errorName }} </span>\n            </div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Số điện thoại\" type=\"text\"  v-model=\"phone\"></el-input>\n            <div v-if=\"this.errorPhone !== '' \" class=\"error\">\n                <span> {{ errorPhone }} </span>\n            </div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Email\" type=\"email\"  v-model=\"email\"></el-input>\n            <div v-if=\"this.errorEmail !== '' \" class=\"error\">\n                <span> {{ errorEmail }} </span>\n            </div>\n        </div>\n        <div class=\"inputWrap\">\n            <el-input  placeholder=\"Địa chỉ\" type=\"text\"  v-model=\"address\"></el-input>\n        </div>\n        <!-- cap nhat anh dai dien -->\n        <div class=\"inputWrap\">\n            <el-upload\n              class=\"avatar-uploader\"\n              action=\"https://jsonplaceholder.typicode.com/posts/\"\n              :show-file-list=\"false\"\n              :on-success=\"handleAvatarSuccess\"\n              :before-upload=\"beforeAvatarUpload\">\n              <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </el-upload>\n        </div>\n        <el-button type=\"primary\" class=\"loginButton\" @click=\"updateUser\">Cập nhật thông tin</el-button>\n    </div>\n</template>\n<script>\n  import { mapMutations, mapState } from 'vuex';\n  import {isValidEmail} from '../utils/helper'\n  // import api from '../api'\n  \n  export default {\n    name: \"Login\",\n    data () {\n      return {\n        errorName: '',\n        errorPhone: '',\n        name: '',\n        phone:'',\n        email:'',\n        address:'',\n        avatar:'',\n        imageUrl: '',\n        errorEmail: '',\n      }\n    },\n    computed: {\n      ...mapState('auth', ['isAuthenticated'])\n    },\n    methods: {\n      ...mapMutations('auth', [\n        'updateLoginStatus',\n        'updateAccessToken'\n      ]),\n      updateUser() {\n        if(this.isValidData()) {\n          this.$message({message: 'Cập nhật thông tin thành công!', type: 'success'});\n        }\n      },\n      isValidData () {\n        let error = false;\n        this.errorName = '';\n        this.errorEmail = '';\n        this.errorPhone = '';\n        if(this.email !== '') {\n          if (!isValidEmail(this.email)) {\n            error = true;\n            this.errorEmail = 'Email sai định dạng, vui lòng nhập lại';\n          }\n        }\n        if (this.name.length < 6) {\n          error = true;\n          this.errorName = 'Họ và tên phải lớn hơn 6 ký tự!';\n        }\n        if (this.name.length === 0) {\n          error = true;\n          this.errorName = 'Họ và tên không được để trống!';\n        }\n        if (this.phone.length < 9) {\n          error = true;\n          this.errorPhone = 'Số điện thoại phải lớn hơn 9 ký tự!';\n        }\n        if (this.phone.length > 11) {\n          error = true;\n          this.errorPhone = 'Số điện thoại phải nhỏ hơn 11 ký tự!';\n        }\n        if (this.phone.length === 0) {\n          error = true;\n          this.errorPhone = 'Số điện thoại không được để trống!';\n        }\n\n        return !error\n      },\n      backHome() {\n        this.$router.push({ name: 'Home' })\n      },\n      // cap nhat anh dai dien\n      handleAvatarSuccess(res, file) {\n        this.imageUrl = URL.createObjectURL(file.raw);\n      },\n      beforeAvatarUpload(file) {\n        const isJPG = file.type === 'image/jpeg';\n        const isLt2M = file.size / 1024 / 1024 < 2;\n\n        if (!isJPG) {\n          this.$message.error('Avatar picture must be JPG format!');\n        }\n        if (!isLt2M) {\n          this.$message.error('Avatar picture size can not exceed 2MB!');\n        }\n        return isJPG && isLt2M;\n      }\n    },\n  }\n</script>\n<style lang=\"scss\">\n    @import \"../assets/styles/variables\";\n    .loginForm {\n      .title {\n        font-weight: bold;\n        color: $colorSecond;\n        margin-bottom: 10px;\n        display: inline-block;\n      }\n      .back-to-home{\n        font-size: 14px;\n        cursor: pointer;\n        color: $colorSecondary;\n        display: inline-block;\n        margin-left: 150px;\n      }\n      .back-to-home:hover {\n        color: $colorMainDisable;\n      }\n        max-width: 400px;\n        width: 100%;\n        display: block;\n        box-sizing: border-box;\n        margin-left: auto;\n        margin-right: auto;\n        background: $colorWhite;\n        padding: 24px;\n        border-radius: 10px;\n        .logo {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-bottom: 24px;\n            img {\n                width: 200px;\n                vertical-align: middle;\n                border-style: none;\n                box-sizing: border-box;\n            }\n        }\n        .inputWrap {\n            margin-bottom: 24px;\n            .error {\n                color: $colorRed;\n                margin-top: 8px;\n                font-size: 12px;\n                margin-left: 0px;\n            }\n            // css cho avatar\n            .avatar-uploader .el-upload {\n              border: 1px dashed #d9d9d9;\n              border-radius: 6px;\n              cursor: pointer;\n              position: relative;\n              overflow: hidden;\n              margin-left: 92px;\n            }\n            .avatar-uploader .el-upload:hover {\n              border-color: #409EFF;\n            }\n            .avatar-uploader-icon {\n              font-size: 28px;\n              color: #8c939d;\n              width: 178px;\n              height: 178px;\n              line-height: 178px;\n              text-align: center;\n            }\n            .avatar {\n              width: 178px;\n              height: 178px;\n              display: block;\n            }\n        }\n        .loginButton {\n            width: 100%;\n        }\n    }\n</style>"],"sourceRoot":"src/views"}]}