{"remainingRequest":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js!/home/hunglq/easy-shop-webapp/node_modules/eslint-loader/index.js??ref--13-0!/home/hunglq/easy-shop-webapp/src/store/modules/auth/index.js","dependencies":[{"path":"/home/hunglq/easy-shop-webapp/src/store/modules/auth/index.js","mtime":1620027224741},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uLy4uLy4uL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlLAogICAgYXV0aFVzZXI6IHt9LAogICAgYWNjZXNzVG9rZW46ICcnCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBoYXNQZXJtaXNzaW9uOiBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAocGVybWlzc2lvbikgewogICAgICAgIGlmIChzdGF0ZS5hdXRoVXNlci5wZXJtaXNzaW9ucykgewogICAgICAgICAgcmV0dXJuIHN0YXRlLmF1dGhVc2VyLnBlcm1pc3Npb25zLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUubmFtZSA9PSBwZXJtaXNzaW9uIHx8IGUubmFtZSA9PSAnYWRtaW4nOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGVMb2dpblN0YXR1czogZnVuY3Rpb24gdXBkYXRlTG9naW5TdGF0dXMoc3RhdGUsIGlzQXV0aGVudGljYXRlZCkgewogICAgICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSBpc0F1dGhlbnRpY2F0ZWQ7CiAgICB9LAogICAgdXBkYXRlQXV0aFVzZXI6IGZ1bmN0aW9uIHVwZGF0ZUF1dGhVc2VyKHN0YXRlLCBhdXRoVXNlcikgewogICAgICBzdGF0ZS5hdXRoVXNlciA9IGF1dGhVc2VyOwogICAgfSwKICAgIHVwZGF0ZUFjY2Vzc1Rva2VuOiBmdW5jdGlvbiB1cGRhdGVBY2Nlc3NUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUuYWNjZXNzVG9rZW4gPSB0b2tlbjsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb21taXQoJ3VwZGF0ZUxvZ2luU3RhdHVzJywgZmFsc2UpOwogICAgICBjb21taXQoJ3VwZGF0ZUF1dGhVc2VyJywge30pOwogICAgICBjb21taXQoJ3VwZGF0ZUFjY2Vzc1Rva2VuJywgJycpOwogICAgICByZXR1cm4gcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdMb2dpbicKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/hunglq/easy-shop-webapp/src/store/modules/auth/index.js"],"names":["router","namespaced","state","isAuthenticated","authUser","accessToken","getters","hasPermission","permission","permissions","find","e","name","mutations","updateLoginStatus","updateAuthUser","updateAccessToken","token","actions","logout","commit","push"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,iBAAnB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,eAAe,EAAE,KADZ;AAELC,IAAAA,QAAQ,EAAE,EAFL;AAGLC,IAAAA,WAAW,EAAE;AAHR,GAFM;AAObC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAE,uBAACL,KAAD;AAAA,aAAW,UAACM,UAAD,EAAgB;AACxC,YAAIN,KAAK,CAACE,QAAN,CAAeK,WAAnB,EAAgC;AAC9B,iBAAOP,KAAK,CAACE,QAAN,CAAeK,WAAf,CAA2BC,IAA3B,CAAgC,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACC,IAAF,IAAUJ,UAAV,IAAwBG,CAAC,CAACC,IAAF,IAAU,OAAtC;AAAA,WAAjC,CAAP;AACD;AACF,OAJc;AAAA;AADR,GAPI;AAcbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,iBADS,6BACUZ,KADV,EACiBC,eADjB,EACkC;AAC1CD,MAAAA,KAAK,CAACC,eAAN,GAAwBA,eAAxB;AACA,KAHQ;AAITY,IAAAA,cAJS,0BAIOb,KAJP,EAIcE,QAJd,EAIwB;AAChCF,MAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAjB;AACA,KANQ;AAOTY,IAAAA,iBAPS,6BAOUd,KAPV,EAOiBe,KAPjB,EAOwB;AAC/Bf,MAAAA,KAAK,CAACG,WAAN,GAAoBY,KAApB;AACD;AATQ,GAdE;AAyBbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MADO,wBACW;AAAA,UAATC,MAAS,QAATA,MAAS;AAChBA,MAAAA,MAAM,CAAC,mBAAD,EAAsB,KAAtB,CAAN;AACAA,MAAAA,MAAM,CAAC,gBAAD,EAAmB,EAAnB,CAAN;AACAA,MAAAA,MAAM,CAAC,mBAAD,EAAsB,EAAtB,CAAN;AACA,aAAOpB,MAAM,CAACqB,IAAP,CAAY;AAACT,QAAAA,IAAI,EAAE;AAAP,OAAZ,CAAP;AACD;AANM;AAzBI,CAAf","sourcesContent":["import router from \"../../../router\";\n\nexport default {\n  namespaced: true,\n  state: {\n    isAuthenticated: false,\n    authUser: {},\n    accessToken: '',\n  },\n  getters: {\n    hasPermission: (state) => (permission) => {\n      if (state.authUser.permissions) {\n        return state.authUser.permissions.find(e => e.name == permission || e.name == 'admin')\n      }\n    },\n  },\n  mutations: {\n    updateLoginStatus (state, isAuthenticated) {\n     state.isAuthenticated = isAuthenticated\n    },\n    updateAuthUser (state, authUser) {\n     state.authUser = authUser\n    },\n    updateAccessToken (state, token) {\n      state.accessToken = token\n    }\n  },\n  actions: {\n    logout ({commit}) {\n      commit('updateLoginStatus', false)\n      commit('updateAuthUser', {})\n      commit('updateAccessToken', '')\n      return router.push({name: 'Login'})\n    }\n  }\n}"]}]}