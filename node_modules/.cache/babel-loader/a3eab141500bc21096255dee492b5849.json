{"remainingRequest":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js!/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/easy-shop-webapp/src/views/ProductDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hunglq/easy-shop-webapp/src/views/ProductDetail.vue","mtime":1619169069522},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/easy-shop-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvaHVuZ2xxL2Vhc3ktc2hvcC13ZWJhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IGFwaSBmcm9tICJAL2FwaSI7CmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZHVjdERldGFpbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3Q6IFtdLAogICAgICBoaXN0b3JpZXM6IFtdLAogICAgICBiYXNlVXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMICsgIi9zdG9yYWdlLyIKICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbInVwZGF0ZVRpdGxlIiwgInVwZGF0ZVNpZGVCYXIiXSkpLCB7fSwgewogICAgY2hhbmdlUGFnZVRpdGxlOiBmdW5jdGlvbiBjaGFuZ2VQYWdlVGl0bGUoKSB7CiAgICAgIHRoaXMudXBkYXRlVGl0bGUoIkNoaSB0aeG6v3Qgc+G6o24gcGjhuqltIik7CiAgICB9LAogICAgY2hhbmdlSW5kZXhTaWRlYmFyOiBmdW5jdGlvbiBjaGFuZ2VJbmRleFNpZGViYXIoKSB7CiAgICAgIHRoaXMudXBkYXRlU2lkZUJhcigiMyIpOwogICAgfSwKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZVN0cmluZykgewogICAgICByZXR1cm4gbW9tZW50KGRhdGVTdHJpbmcpLmZvcm1hdCgiSEg6bW0gREQvTU0vWVlZWSIpOwogICAgfSwKICAgIGZvcm1hdE1vbmV5OiBmdW5jdGlvbiBmb3JtYXRNb25leShkYXRhKSB7CiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRhdGEpLnRvTG9jYWxlU3RyaW5nKCJ2aS1WTiIpOwogICAgICB9CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5jaGFuZ2VQYWdlVGl0bGUoKTsKICAgIHRoaXMuY2hhbmdlSW5kZXhTaWRlYmFyKCk7CgogICAgaWYgKCF0aGlzLiRyb3V0ZS5xdWVyeS5pZCkgewogICAgICByZXR1cm4gcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJQcm9kdWN0cyIKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhcGkuZ2V0UHJvZHVjdCh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5wcm9kdWN0ID0gXy5nZXQocmVzcG9uc2UsICJkYXRhLmRhdGEiKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnByb2R1Y3QgPSBbXTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ProductDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,MAAA,MAAA,UAAA;AACA,OAAA,GAAA,MAAA,OAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,GAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,aAAA,EAAA,eAAA,CAAA,CADA;AAEA,IAAA,eAFA,6BAEA;AACA,WAAA,WAAA,CAAA,mBAAA;AACA,KAJA;AAKA,IAAA,kBALA,gCAKA;AACA,WAAA,aAAA,CAAA,GAAA;AACA,KAPA;AAQA,IAAA,UARA,sBAQA,UARA,EAQA;AACA,aAAA,MAAA,CAAA,UAAA,CAAA,CAAA,MAAA,CAAA,kBAAA,CAAA;AACA,KAVA;AAWA,IAAA,WAXA,uBAWA,IAXA,EAWA;AACA,UAAA,IAAA,EAAA;AACA,eAAA,QAAA,CAAA,IAAA,CAAA,CAAA,cAAA,CAAA,OAAA,CAAA;AACA;AACA;AAfA,IATA;AA0BA,EAAA,OA1BA,qBA0BA;AAAA;;AACA,SAAA,eAAA;AACA,SAAA,kBAAA;;AACA,QAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,CAAA;AACA,KAFA,MAEA;AACA,MAAA,GAAA,CACA,UADA,CACA,KAAA,MAAA,CAAA,KAAA,CAAA,EADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,CAAA,CAAA,GAAA,CAAA,QAAA,EAAA,WAAA,CAAA;AACA,OAJA,EAKA,KALA,CAKA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,OAPA;AAQA;AACA;AAzCA,CAAA","sourcesContent":["<template>\n  <div class=\"product-detail\">\n    <el-card class=\"product-info\">\n      <div class=\"first-session\">\n        <h2 class=\"product-name\">\n          {{product.name}}\n        </h2>\n        <div class=\"sub\">\n          <el-row :gutter=\"20\">\n            <el-col :sm=\"12\" :md=\"7\">\n              <div class=\"product-image\">\n                <img\n                    class=\"product-image\"\n                    v-if=\"product.image\"\n                    :src=\"baseUrl + product.image\"\n                    alt=\"\"\n                />\n                <img\n                    class=\"product-image\"\n                    v-else\n                    src=\"../assets/images/product.jpg\"\n                    alt=\"\"\n                />\n              </div>\n            </el-col>\n            <el-col :sm=\"12\" :md=\"7\">\n              <div class=\"all-detail\">\n                <span>SKU:</span>\n                <p class=\"detail\">{{product.sku}}</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Giá nhập: </span>\n                <p class=\"detail\"> {{ formatMoney(product.original_price) }} VNĐ</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Giá bán: </span>\n                <p class=\"detail\">  {{ formatMoney(product.sale_price) }} VNĐ</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Tồn kho: </span>\n                <p class=\"detail\">{{Number(product.quantity_in_stock).toLocaleString(\"vi-VN\")}}</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Khối lượng: </span>\n                <p class=\"detail\">{{Number(product.weight).toLocaleString(\"vi-VN\")}} gam</p>\n              </div>\n              <div class=\"all-detail\">\n                <span>Danh mục: </span>\n                <p class=\"detail\" v-for=\"(category, index) in product.categories\" :key=\"index\">\n                  <b>\n                    {{ category.name }}<span v-if=\"index + 1 != product.categories.length\">,</span>\n                  </b>\n                </p>\n              </div>\n            </el-col>\n            <el-col :sm=\"24\" :md=\"10\">\n              <div v-if=\"product.description\" class=\"all-detail\">\n                <p class=\"title-note\">Mô tả sản phẩm: </p>\n                <p class=\"description\">{{product.description}}</p>\n              </div>\n            </el-col>\n          </el-row>\n        </div>\n      </div>\n      <div class=\"history\">\n        <h1>Lịch sử nhập hàng</h1>\n        <el-table\n            ref=\"multipleTable\"\n            style=\"width: 100%\"\n            height=\"calc(100vh - 435px)\"\n            :data=\"product.histories\"\n        >\n          <el-table-column align=\"center\" prop=\"created_at\" label=\"Thời gian nhập hàng\">\n            <template slot-scope=\"scope\">\n              {{formatDate(scope.row.created_at)}}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" prop=\"quantity\" label=\"Số lượng nhập\">\n            <template slot-scope= \"scope\">\n              {{formatMoney(scope.row.quantity)}}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" prop=\"total_value\" label=\"Tồn kho sau nhập\">\n            <template slot-scope=\"scope\">\n              {{formatMoney(scope.row.quantity_in_stock)}}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" prop=\"creator_name\" label=\"Người nhập hàng\">\n            <template slot-scope=\"scope\">\n              {{scope.row.user.name}}\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapMutations } from \"vuex\";\nimport moment from \"moment\";\nimport router from \"@/router\";\nimport api from \"@/api\";\nimport _ from \"lodash\";\nexport default {\nname: \"ProductDetail\",\n  data () {\n    return {\n      product: [],\n      histories: [],\n      baseUrl: process.env.VUE_APP_BASE_URL + \"/storage/\",\n    }\n  },\n  methods: {\n    ...mapMutations([\"updateTitle\", \"updateSideBar\"]),\n    changePageTitle() {\n      this.updateTitle(\"Chi tiết sản phẩm\");\n    },\n    changeIndexSidebar() {\n      this.updateSideBar(\"3\");\n    },\n      formatDate(dateString) {\n      return moment(dateString).format(\"HH:mm DD/MM/YYYY\");\n    },\n     formatMoney(data) {\n      if (data) {\n        return parseInt(data).toLocaleString(\"vi-VN\");\n      }\n    },\n  },\n  mounted() {\n    this.changePageTitle();\n    this.changeIndexSidebar();\n    if (!this.$route.query.id) {\n      return router.push({ name: \"Products\" });\n    } else {\n      api\n          .getProduct(this.$route.query.id)\n          .then((response) => {\n            this.product = _.get(response, \"data.data\");\n          })\n          .catch(() => {\n            this.product = [];\n          });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .product-info {\n    height: 100%;\n    .first-session {\n      .product-name {\n        margin: 0;\n        padding-bottom: 10px;\n      }\n      .sub {\n        .product-image {\n          width: 100%;\n          img {\n            width: 160px;\n            height: 160px;\n            object-fit: cover;\n          }\n        }\n        .all-detail {\n          margin-bottom: 10px;\n          .detail {\n            display: inline;\n            font-weight: bold;\n            margin-left: 7px;\n          }\n          .description {\n            line-height: 2;\n            text-align: justify;\n            word-break: break-word;\n          }\n          .title-note {\n            font-weight: bold;\n          }\n        }\n        @media only screen and (max-width: 992px) {\n          .all-detail {\n            margin-top: 10px;\n          }\n        }\n      }\n    }\n    .history {\n      margin-top: 20px;\n      padding-bottom: 10px;\n    }\n    @media only screen and (max-width: 768px) {\n      .el-table {\n        font-size: 12px;\n      }\n    }\n  }\n</style>\n"],"sourceRoot":"src/views"}]}