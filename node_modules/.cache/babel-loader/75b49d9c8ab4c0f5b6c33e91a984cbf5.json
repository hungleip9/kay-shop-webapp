{"remainingRequest":"/home/hunglq/Documents/kay-shop-webapp/node_modules/babel-loader/lib/index.js!/home/hunglq/Documents/kay-shop-webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hunglq/Documents/kay-shop-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/Documents/kay-shop-webapp/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hunglq/Documents/kay-shop-webapp/src/views/Login.vue","mtime":1618195355003},{"path":"/home/hunglq/Documents/kay-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/Documents/kay-shop-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hunglq/Documents/kay-shop-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/Documents/kay-shop-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvaHVuZ2xxL0RvY3VtZW50cy9rYXktc2hvcC13ZWJhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yUGhvbmU6ICcnLAogICAgICBlcnJvclBhc3N3b3JkOiAnJywKICAgICAgcGhvbmU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGRvbWFpbjogd2luZG93LmxvY2F0aW9uLmhvc3QKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ2F1dGgnLCBbJ2lzQXV0aGVudGljYXRlZCddKSksCiAgd2F0Y2g6IHsKICAgIGVtYWlsOiBmdW5jdGlvbiBlbWFpbCgpIHsKICAgICAgdGhpcy5lcnJvclBob25lID0gJyc7CiAgICB9LAogICAgcGFzc3dvcmQ6IGZ1bmN0aW9uIHBhc3N3b3JkKCkgewogICAgICB0aGlzLmVycm9yUGFzc3dvcmQgPSAnJzsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCdhdXRoJywgWyd1cGRhdGVMb2dpblN0YXR1cycsICd1cGRhdGVBY2Nlc3NUb2tlbiddKSksIHt9LCB7CiAgICBoYW5kbGVMb2dpbjogZnVuY3Rpb24gaGFuZGxlTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc1ZhbGlkRGF0YSgpKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBwaG9uZTogdGhpcy5waG9uZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfTsKICAgICAgICBhcGkubG9naW4oZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLnVwZGF0ZUFjY2Vzc1Rva2VuKF8uZ2V0KHJlc3BvbnNlLCAnZGF0YS5hY2Nlc3NfdG9rZW4nKSk7CgogICAgICAgICAgX3RoaXMudXBkYXRlTG9naW5TdGF0dXModHJ1ZSk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ0hvbWUnCiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICdT4buRIMSRaeG7h24gdGhv4bqhaSBob+G6t2MgbeG6rXQga2jhuql1IGtow7RuZyBjaMOtbmggeMOhYycsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaXNWYWxpZERhdGE6IGZ1bmN0aW9uIGlzVmFsaWREYXRhKCkgewogICAgICB2YXIgZXJyb3IgPSBmYWxzZTsKICAgICAgdGhpcy5lcnJvclBob25lID0gJyc7CiAgICAgIHRoaXMuZXJyb3JQYXNzd29yZCA9ICcnOwoKICAgICAgaWYgKHRoaXMucGhvbmUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JQaG9uZSA9ICdT4buRIMSRaeG7h24gdGhv4bqhaSBraMO0bmcgxJHGsOG7o2MgxJHhu4MgdHLhu5FuZyc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkLmxlbmd0aCA8IDYpIHsKICAgICAgICBlcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvclBhc3N3b3JkID0gJ03huq10IGto4bqpdSBwaOG6o2kgbOG7m24gaMahbiA2IGvDvSB04buxJzsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgZXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyb3JQYXNzd29yZCA9ICdN4bqtdCBraOG6qXUga2jDtG5nIMSRxrDhu6NjIMSR4buDIHRy4buRbmcnOwogICAgICB9CgogICAgICByZXR1cm4gIWVycm9yOwogICAgfQogIH0pCn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,SAAA,YAAA,EAAA,QAAA,QAAA,MAAA;AACA,OAAA,GAAA,MAAA,QAAA;AACA,OAAA,CAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,oBACA,QAAA,CAAA,MAAA,EAAA,CAAA,iBAAA,CAAA,CADA,CAXA;AAcA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,WAAA,aAAA,GAAA,EAAA;AACA;AANA,GAdA;AAsBA,EAAA,OAAA,kCACA,YAAA,CAAA,MAAA,EAAA,CACA,mBADA,EAEA,mBAFA,CAAA,CADA;AAKA,IAAA,WALA,yBAKA;AAAA;;AACA,UAAA,KAAA,WAAA,EAAA,EAAA;AACA,YAAA,IAAA,GAAA;AACA,UAAA,KAAA,EAAA,KAAA,KADA;AAEA,UAAA,QAAA,EAAA,KAAA;AAFA,SAAA;AAIA,QAAA,GAAA,CAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,iBAAA,CAAA,CAAA,CAAA,GAAA,CAAA,QAAA,EAAA,mBAAA,CAAA;;AACA,UAAA,KAAA,CAAA,iBAAA,CAAA,IAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA,SAJA,EAIA,KAJA,CAIA,YAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AAAA,YAAA,OAAA,EAAA,6CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA,SANA;AAOA;AACA,KAnBA;AAoBA,IAAA,WApBA,yBAoBA;AACA,UAAA,KAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,aAAA,GAAA,EAAA;;AACA,UAAA,KAAA,KAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,IAAA;AACA,aAAA,UAAA,GAAA,mCAAA;AACA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,IAAA;AACA,aAAA,aAAA,GAAA,+BAAA;AACA;;AACA,UAAA,KAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,IAAA;AACA,aAAA,aAAA,GAAA,8BAAA;AACA;;AAEA,aAAA,CAAA,KAAA;AACA;AAtCA;AAtBA,CAAA","sourcesContent":["<template>\n    <div class=\"loginForm\">\n      <div class=\"logo\">\n        <img v-if=\"domain == 'cms.ilivingcosmetic.com'\" src=\"../assets/images/logo/Iliving.png\" alt=\"\" style=\"width:150px;height: 100px\">\n        <img v-else src=\"../assets/images/logo/logo_dark.png\" alt=\"\">\n      </div>\n      <div class=\"inputWrap\">\n          <el-input placeholder=\"Số điện thoại\" type=\"text\" v-model=\"phone\" @keyup.enter.native=\"handleLogin()\"></el-input>\n          <div v-if=\"this.errorPhone !== '' \" class=\"error\">\n              <span> {{ errorPhone }} </span>\n          </div>\n      </div>\n      <div class=\"inputWrap\">\n          <el-input  placeholder=\"Mật khẩu\" type=\"password\"  v-model=\"password\" @keyup.enter.native=\"handleLogin()\"></el-input>\n          <div v-if=\"this.errorPassword !== '' \" class=\"error\">\n              <span> {{ errorPassword }} </span>\n          </div>\n      </div>\n        <!-- <div class=\"box-change-pass forgot-password\"><span @click=\"forgotPassword\">Quên mật khẩu</span></div> -->\n      <el-button type=\"primary\" class=\"loginButton\" @click=\"handleLogin()\">ĐĂNG NHẬP</el-button>\n      <div class=\"tip\">\n        <span>Được phát triển bởi <a href=\"https://zentsoft.com/\" target=\"_bank\"> ZentSoft</a></span>\n      </div>\n    </div>\n</template>\n<script>\n  import { mapMutations, mapState } from 'vuex';\n  import api from '../api'\n  import _ from 'lodash'\n  \n  export default {\n    name: \"Login\",\n    data () {\n      return {\n        errorPhone: '',\n        errorPassword: '',\n        phone: '',\n        password: '',\n        domain: window.location.host,\n      }\n    },\n    computed: {\n      ...mapState('auth', ['isAuthenticated'])\n    },\n    watch: {\n      email () {\n        this.errorPhone = ''\n      },\n      password () {\n        this.errorPassword = ''\n      }\n    },\n    methods: {\n      ...mapMutations('auth', [\n        'updateLoginStatus',\n        'updateAccessToken'\n      ]),\n      handleLogin () {\n        if (this.isValidData()) {\n          let data = {\n            phone: this.phone,\n            password: this.password,\n          }\n          api.login(data).then((response) => {\n            this.updateAccessToken(_.get(response, 'data.access_token'))\n            this.updateLoginStatus(true)\n            this.$router.push({ name: 'Home' })\n          }).catch(() => {\n            this.$message({message: 'Số điện thoại hoặc mật khẩu không chính xác', type: 'error'});\n          })\n        }\n      },\n      isValidData () {\n        let error = false;\n        this.errorPhone = '';\n        this.errorPassword = '';\n        if (this.phone.length === 0) {\n          error = true;\n          this.errorPhone = 'Số điện thoại không được để trống';\n        }\n        if (this.password.length < 6) {\n          error = true;\n          this.errorPassword = 'Mật khẩu phải lớn hơn 6 ký tự';\n        }\n        if (this.password.length === 0) {\n          error = true;\n          this.errorPassword = 'Mật khẩu không được để trống';\n        }\n\n        return !error\n      }\n    },\n  }\n</script>\n<style lang=\"scss\">\n    @import \"../assets/styles/variables\";\n\n    .loginForm {\n        max-width: 400px;\n        width: 100%;\n        display: block;\n        box-sizing: border-box;\n        margin-left: auto;\n        margin-right: auto;\n        background: $colorWhite;\n        padding: 24px;\n        border-radius: 10px;\n        .box-change-pass {\n          display: inline-block;\n          margin-left: 10px;\n          margin-bottom: 10px;\n          display: flex;\n          flex-direction: row-reverse;\n          span {\n            font-size: 14px;\n            cursor: pointer;\n            color: $colorSecondary;\n          }\n          span:hover {\n            color: $colorMainDisable;\n          }\n        }\n        .logo {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-bottom: 24px;\n            img {\n                width: 200px;\n                vertical-align: middle;\n                border-style: none;\n                box-sizing: border-box;\n            }\n        }\n        .inputWrap {\n            margin-bottom: 24px;\n            .error {\n                color: $colorRed;\n                margin-top: 8px;\n                font-size: 12px;\n            }\n        }\n        .loginButton {\n            width: 100%;\n        }\n\n      .tip {\n        margin-top: 40px;\n        display: flex;\n        justify-content: center;\n        font-size: 14px;\n        color: $colorSecond;\n\n        span {\n          a {\n            color: $colorOrange;\n            text-decoration: none;\n          }\n        }\n      }\n    }\n</style>"],"sourceRoot":"src/views"}]}